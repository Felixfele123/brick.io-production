(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("8a23"),a=i.n(s);a.a},"050f":function(t,e,i){},1:function(t,e){},"2a37":function(t,e,i){"use strict";var s=i("f1b4"),a=i.n(s);a.a},"2cce":function(t,e,i){},"550e":function(t,e,i){"use strict";var s=i("cf18"),a=i.n(s);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{staticClass:"black"},["/"===this.$route.path?i("Multi"):t._e(),i("v-content",[i("router-view")],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"justify-center pa-0",attrs:{fluid:"","fill-height":""}},[t.gameActive||t.gameRequest?t._e():i("v-card",{staticClass:"transparent justify-center align-center text-center",on:{click:function(e){return e.preventDefault(),t.joinGameLobby(e)}}},[i("v-card-title",{staticClass:"white--text display-4 level"},[t._v("Level 1")]),i("span",{staticClass:"blink"},[t._v("Click to play")])],1),i("canvas",{attrs:{id:"gameCanvas"}}),t.gameActive?i("div",{staticClass:"white--text justify-left scoreboard"},[i("v-card",{staticClass:"transparent white--text text--center",attrs:{width:"12%"}},[i("v-card-title",{staticClass:"title"},[t._v("SCORE")]),i("v-card-text",{staticClass:"white--text pb-0"},[i("p",{staticStyle:{"text-align":"left"}},[t._v(" white "),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.balls[0].score)+" ")])])]),i("v-card-text",{staticClass:"red--text pb-0"},[i("p",{staticStyle:{"text-align":"left"}},[t._v(" red "),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.balls[1].score)+" ")])])]),i("v-card-text",{staticClass:"blue--text pb-0"},[i("p",{staticStyle:{"text-align":"left"}},[t._v(" blue "),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.balls[2].score)+" ")])])]),i("v-card-text",{staticClass:"green--text pb-0"},[i("p",{staticStyle:{"text-align":"left"}},[t._v(" green "),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.balls[3].score)+" ")])])])],1)],1):t._e(),t.gameActive||t.gameRequest?i("v-layout",{staticClass:"relative",attrs:{column:"","justify-center":"","align-center":""}},[i("div",{staticClass:"text-center justify-center"},[i("v-dialog",{attrs:{dark:"",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{staticClass:"justify-center"},[i("v-row",{staticClass:"ma-0 text-center justify-center"},[i("v-card-title",{staticClass:"pb-0 primary-text"},[t._v(" CLEARED! ")])],1),i("v-row",{staticClass:"ma-0 text-center "},t._l(t.stats,(function(e){return i("v-col",{key:e.index},[i("v-card-text",{staticClass:"pb-0"},[t._v(" "+t._s(e.stat)+" ")]),i("v-card-text",{staticClass:"pt-1 title"},[t._v(" "+t._s(e.count)+" ")])],1)})),1),i("v-row",{staticClass:"ma-0 text-center justify-center"},[i("v-col",{staticClass:"pt-0 pl-12"},[i("v-avatar",{staticClass:"justify-center text-center",attrs:{tile:"",size:"80"}},[i("img",{attrs:{src:"bronze-3.png",alt:"",srcset:""}})]),i("v-card-text",{staticClass:"pa-0 text-center rome white--text"},[t._v("BRONZE III ")]),i("v-card-text",{staticClass:"pa-0 text-center rome grey--text"},[t._v("DIV XI")])],1),i("v-col",{staticClass:"pt-0 pr-12 justify-center align-center "},[i("div",{staticClass:"align-center  text-center"},[i("v-avatar",{staticClass:"pb-1 mx-2 my-3",attrs:{size:t.coinSize}},[i("img",{attrs:{src:"coin.png",alt:"",srcset:""}})]),i("span",{staticClass:"title"},[t._v(t._s(t.coinCount))])],1),i("div",{staticClass:"align-center  text-center"},[i("v-avatar",{staticClass:"pb-1 mx-2 my-3",attrs:{size:t.coinSize}},[i("img",{attrs:{src:"coin.png",alt:"",srcset:""}})]),i("span",{staticClass:"title"},[t._v(t._s(t.xp))])],1)])],1),i("div",{staticClass:"py-3"},[i("v-form",{staticClass:"mb-8 text-center "},[i("v-btn",{on:{click:function(e){return t.continueToNextLevel()}}},[t._v("Continue")])],1)],1)],1),t.gameRequest?i("v-card",{staticClass:"justify-center"},[i("v-card-title",{staticClass:"headline white--text justify-center align-center",attrs:{disabled:""}},[t._v("searching for other players..")]),i("v-row",{staticClass:"ma-0 text-center justify-center"},t._l(t.players,(function(t){return i("v-col",{key:t.id,class:"playerSearch mx-2 "+t.class})})),1),i("v-layout",{staticClass:"justify-center py-4"},[i("v-form",{staticClass:"px-3 justify-center"},[i("v-btn",{staticClass:"black--text justify-center",attrs:{color:"white"},on:{click:function(e){return t.cancelRequest()}}},[t._v("CANCEL")])],1)],1)],1):t._e()],1)],1)]):t._e(),t.gameActive?i("v-container",{staticClass:"align-end justify-center pa-0",attrs:{fluid:"","fill-height":""}},[i("v-row",{attrs:{height:"40"}},[i("v-progress-linear",{staticClass:"mx-3",attrs:{rounded:"","buffer-value":t.healthBuffer,"background-color":t.healthBackgroundColor,color:"rgb(0, 165, 0, 1)",height:"8",reactive:""},model:{value:t.health,callback:function(e){t.health=e},expression:"health"}}),t._l(t.blasts,(function(e){return i("v-col",{key:e.index,staticClass:"pb-0 pt-1"},[i("v-progress-linear",{class:e.class+" ",attrs:{"background-color":"rgb(255, 165, 0,"+e.backgroundFade+")",color:"rgb(255, 165, 0, "+e.fade+")",height:"40",reactive:""},model:{value:e.timer,callback:function(i){t.$set(e,"timer",i)},expression:"blast.timer"}},[i("div",{staticClass:"blasttext ml-6 hidden-xs-only"},[i("strong",[t._v(t._s(e.text))])]),i("div",{staticClass:"blastimage text-center justify-center absolute"},[i("v-img",{attrs:{src:e.image,alt:"image",srcset:"",height:"40",width:"70"}})],1),e.extraBall?i("div",{staticClass:"blasttext hidden-xs-only ml-6"},[i("strong",[t._v(t._s(e.counter)+"/3")])]):t._e()])],1)}))],2)],1):t._e()],1)},o=[],c=(i("a4d3"),i("99af"),i("cb29"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("a434"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("d4ec")),l=i("ade3"),u=(i("96cf"),i("1da1")),d=i("2f62"),h=i("8055"),f=i.n(h),v=i("15d3");function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g={name:"Multi",data:function(){return{canvas:null,canvasContext:null,socket:f()("localhost:3456"),PADDLE_WIDTH:window.innerWidth/15,PADDLE_DIST_FROM_EDGE:window.innerHeight/8,PADDLE_THICKNESS:window.innerHeight/70,paddleX:window.innerWidth/2,mouseX:null,mouseY:null,BRICK_ROWS:10,BRICK_COLS:10,BRICK_W:window.innerWidth/10,BRICK_H:window.innerHeight/30,BRICK_GAP:2,bricksLeft:0,brickGrid:[],brickDestroyed:0,goldball:!1,id:null,i:null,ballColor:"white",radius:window.innerHeight/100,ballX:window.innerWidth/2,ballY:window.innerHeight/3,ballSpeedX:window.innerWidth/300,ballSpeedY:window.innerWidth/300,newBallCount:4,ghostBall:!1,ballStorage:[{id:0,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:-window.innerWidth/300,Yspeed:-window.innerHeight/250,radius:window.innerHeight/200,color:"white",reflect:!0,active:!0,score:0},{id:1,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:-window.innerWidth/600,Yspeed:-window.innerHeight/500,radius:window.innerHeight/200,color:"red",reflect:!0,active:!0,score:0},{id:2,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:-window.innerWidth/1200,Yspeed:-window.innerHeight/1e3,radius:window.innerHeight/200,color:"blue",reflect:!0,active:!0,score:0},{id:3,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:-window.innerWidth/2400,Yspeed:-window.innerHeight/2e3,radius:window.innerHeight/200,color:"green",reflect:!0,active:!0,score:0},{id:4,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:0,Yspeed:-window.innerHeight/250,radius:window.innerHeight/200,color:"white",reflect:!1,active:!1,bullet:!0},{id:5,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:0,Yspeed:-window.innerHeight/250,radius:window.innerHeight/200,color:"white",reflect:!1,active:!1,bullet:!0},{id:6,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:0,Yspeed:-window.innerHeight/250,radius:window.innerHeight/200,color:"white",reflect:!1,active:!1,bullet:!0},{id:7,Xpos:window.innerWidth/2,Ypos:window.innerHeight/3,Xspeed:0,Yspeed:-window.innerHeight/250,radius:window.innerHeight/200,color:"white",reflect:!0,active:!1}],balls:[],blasts:[{fade:.01,backgroundFade:.5,text:"Q",class:"",timer:100,timerSpeed:2,active:!1,ballColor:"blue",keyCode:81,speedBall:!0,image:"/speedBall.png"},{fade:.01,backgroundFade:.5,text:"W",class:"",timer:100,timerSpeed:5,active:!1,ballColor:"yellow",keyCode:87,extraBall:!0,counter:0,image:"/damageBall.png"},{fade:.01,backgroundFade:.5,text:"E",class:"",timer:100,timerSpeed:.5,active:!1,ballColor:"red",keyCode:69,goldBall:!0,image:"/ghostBall.png"},{fade:.01,backgroundFade:.5,text:"R",class:"",timer:100,timerSpeed:.05,active:!1,ballColor:"yellow",keyCode:82,starBall:!0,image:"/starBall.png"}],stats:[{stat:"HITS",value:0,count:0},{stat:"DESTROYED",value:0,count:0},{stat:"TIME",value:"",count:0}],players:[{id:0,paddleX:window.innerWidth/2,color:"white",class:"",score:0},{id:1,paddleX:window.innerWidth/2,color:"red",class:"",score:0},{id:2,paddleX:window.innerWidth/2,color:"blue",class:"",score:0},{id:3,paddleX:window.innerWidth/2,color:"green",class:"",score:0}],brickMove:0,brickHitBall:!1,brickMoveSpeed:.05,gamePause:!1,paddleMenuShuffle:!1,damage:.1,brickDestoryedCount:0,healthBackgroundColor:"black",healthBuffer:100,health:100,brickAddCount:0,dialog:!1,keyLeft:!1,keyRight:!1,keyDirection:1,xp:0,gameRequest:!1,scoreboard:!1,seconds:0,tenSeconds:0,minutes:0,tenMinutes:0,secondsCheck:0,coinCount:0,coinSize:30,secondsCount:0,brickHitCount:0,coins:0,userID:"",playerID:null,brickAdd:0}},created:function(){window.addEventListener("resize",this.resize)},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.canvas=document.getElementById("gameCanvas"),t.canvasContext=t.canvas.getContext("2d"),e.next=4,t.fetchUserdata();case 4:t.userID=t.allUserdata[0].username,i=100,setInterval(t.updateAll,1e3/i),setInterval(t.blastTimer,100),setInterval(t.timer,1e3),t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,t.canvas.addEventListener("mousemove",t.updateMousePos),t.socket.on("SESSION_ID",(function(e){e>2&&setTimeout((function(){t.startGame()}),1e3),t.gameRequest&&(t.playerID=e),t.players[e].class="",t.players[e+1]&&(t.players[e+1].class="blink_me"),t.players[e+2]&&(t.players[e+2].class="blink_me"),t.players[e+3]&&(t.players[e+3].class="blink_me"),console.log("g")})),t.socket.on("MOUSEPOS",(function(e){t.players[e.playerID].paddleX=e.brickPosIndex*t.canvas.width-t.PADDLE_WIDTH/2})),t.socket.on("GAME_UPDATE",(function(e){t.processGameUpdate(e),t.initState()})),window.addEventListener("keydown",t.keyPress),window.addEventListener("keyup",t.keyUp),t.ballStorage.forEach((function(e){e.active&&t.balls.push(e)})),t.brickReset();case 19:case"end":return e.stop()}}),e)})))()},methods:p({},Object(d["d"])(["setGameActive","setRefreshData"]),{},Object(d["b"])(["insertData","fetchUserdata","processGameUpdate","initState"]),{resize:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.radius=window.innerHeight/100,this.ballX=window.innerWidth/2,this.ballY=window.innerHeight/2,this.ballSpeedX=window.innerWidth/300,this.ballSpeedY=window.innerHeight/250,this.PADDLE_DIST_FROM_EDGE=window.innerHeight/10,this.PADDLE_WIDTH=window.innerWidth/15,this.PADDLE_THICKNESS=window.innerHeight/70,this.BRICK_W=window.innerWidth/10,this.BRICK_H=window.innerHeight/30,this.balls[0].radius=window.innerHeight/100,this.balls[0].Xpos=window.innerWidth/2,this.balls[0].Ypos=window.innerHeight/100},timer:function(){this.gameActive&&!this.dialog&&(this.secondsCount+=1)},startGame:function(){this.gameRequest=!1,this.dialog=!1,this.setGameActive(!0)},joinGameLobby:function(t){this.setGameActive(!0),t.preventDefault(),this.socket.emit("SEND_GAMEREQUEST",{userID:this.userID})},ballReset:function(t){if(t.id<=3)t.Xpos=this.canvas.width/2,t.Ypos=this.canvas.height/2;else{var e=this.balls.map((function(t){return t.id})).indexOf(t.id);~e&&this.balls.splice(e,1)}},brickReset:function(){var t=0,e=255,i=0,s=1;this.brickGrid.length=0;var a=function t(e,i,s,a,n){Object(c["a"])(this,t),this.red=e,this.green=i,this.blue=s,this.fade=a,this.exists=n};for(this.i=0;this.i<3*this.BRICK_COLS;this.i++){var n=!1;this.brickGrid.push(new a(t,e,i,s,n))}for(;this.i<this.BRICK_COLS*this.BRICK_ROWS;this.i++){var r=1;if(Math.random()>.95){var o=!0;this.brickGrid.push(new a(t,e,i,r,o))}else{var l=!1;this.brickGrid.push(new a(t,e,i,r,l))}}},updateAll:function(){this.moveAll(),this.drawAll(),this.updateMousePosMenu(),this.gameFinished()},handleInput:function(t){Object(v["a"])(20,this.socket.emit("SEND_MOUSEPOS",t))},sendMousePos:function(t){t.preventDefault();var e=this.mouseX/this.canvas.width;this.handleInput(e)},updateMousePos:function(t){if(this.gameActive){var e=this.canvas.getBoundingClientRect(),i=document.documentElement;this.mouseX=t.clientX-e.left-i.scrollLeft,this.mouseY=t.clientY-e.top-i.scrollTop,this.players[0].paddleX=this.mouseX-this.PADDLE_WIDTH/2}},updateMousePosMenu:function(){var t=this;this.players.forEach((function(e){e.id>0&&(t.paddleMenuShuffle?e.paddleX=t.balls[e.id].Xpos-t.PADDLE_WIDTH/1.3:e.paddleX=t.balls[e.id].Xpos-t.PADDLE_WIDTH/1.2)}))},ballMove:function(){var t=this;this.balls.forEach((function(e){e.Xpos+=e.Xspeed,e.Ypos+=e.Yspeed,e.Xpos>t.canvas.width-e.radius&&(e.Xspeed*=-1),e.Xpos<e.radius&&(e.Xspeed*=-1),e.Ypos>t.canvas.height-e.radius&&t.ballReset(e),e.Ypos<e.radius&&(e.Yspeed*=-1)}))},isBrickAtColRow:function(t,e){if(t>=0&&t<this.BRICK_COLS&&e>=0&&e<this.BRICK_ROWS){var i=this.rowColToArrayIndex(t,e);return this.brickGrid[i].exists}return!1},ballBrickHandling:function(){var t=this;this.balls.forEach((function(e){var i=Math.floor(e.Xpos/t.BRICK_W),s=Math.floor((e.Ypos-t.brickMove)/t.BRICK_H),a=t.rowColToArrayIndex(i,s),n=e.Xpos-e.Xspeed,r=e.Ypos-t.brickMove-e.Yspeed,o=Math.floor(n/t.BRICK_W),c=Math.floor(r/t.BRICK_H),l=Math.floor(e.Xpos/t.BRICK_W),u=Math.floor((e.Xpos-e.Xspeed)/t.BRICK_W);if(i>=0&&i<t.BRICK_COLS&&s>=0&&s<t.BRICK_ROWS)if(t.calculateCoins(),e.score>=50&&(t.dialog=!0),t.brickGrid[a].exists){if(!t.brickHitBall||l!==u)if(e.bullet)t.brickGrid[a].exists=!1,t.stats[1].value+=1,t.stats[0].value+=1,t.balls[e.id].score++,t.ballReset(e);else if(t.ghostBall)t.brickGrid[a].fade-=t.damage;else{t.brickGrid[a].fade>.5?t.goldball?(t.brickGrid[a].exists=!1,t.stats[1].value+=1,t.stats[0].value+=1,t.balls[e.id].score++):(t.brickGrid[a].fade-=t.damage,t.stats[0].value++,t.balls[e.id].score++):(t.brickGrid[a].exists=!1,t.stats[1].value+=1,t.balls[e.id].score++);var d=!0;o!=i&&(e.Xspeed*=-1,d=!1),c!=s&&(e.Yspeed*=-1,d=!1),d&&(e.Xspeed*=-1,e.Yspeed*=-1,console.log("bothtestsFailed"))}t.brickHitBall=!0}else t.brickHitBall=!1;else t.brickHitBall=!1}))},ballPaddleHandling:function(){var t=this;this.players.forEach((function(e){var i=t.canvas.height-t.PADDLE_DIST_FROM_EDGE,s=i+t.PADDLE_THICKNESS,a=e.paddleX,n=a+t.PADDLE_WIDTH;t.balls.forEach((function(r){if(r.Ypos>i-r.radius&&r.Ypos<s&&r.Xpos>a&&r.Xpos<n&&r.id==e.id){r.Yspeed*=-1;var o=e.paddleX+t.PADDLE_WIDTH/2,c=r.Xpos-o;r.Xspeed=.08*c,t.paddleMenuShuffle=!t.paddleMenuShuffle}}))}))},moveAll:function(){this.ballMove(),this.gameActive&&this.ballBrickHandling(),this.ballPaddleHandling()},rowColToArrayIndex:function(t,e){return t+this.BRICK_COLS*e},drawBricks:function(){for(var t=0;t<this.BRICK_ROWS;t++)for(var e=0;e<this.BRICK_COLS;e++){var i=this.rowColToArrayIndex(e,t);this.brickGrid[i].exists&&(this.canvasContext.fillStyle="rgb(".concat(this.brickGrid[i].red,", ").concat(this.brickGrid[i].green,", ").concat(this.brickGrid[i].blue,", ").concat(this.brickGrid[i].fade,")"),this.canvasContext.fillRect(this.BRICK_W*e,this.BRICK_H*t+this.brickMove,this.BRICK_W-this.BRICK_GAP,this.BRICK_H-this.BRICK_GAP))}this.brickMove=this.brickMove+this.brickMoveSpeed,this.brickMove>=this.BRICK_H&&(this.addBricks(),this.health<=0&&(this.gameReset(),console.log()))},drawAll:function(){var t=this;this.keyLeft&&(this.paddleX-=5),this.keyRight&&(this.paddleX+=5),this.canvasContext.fillStyle="black",this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.balls.forEach((function(e){t.colorCircle(e.Xpos,e.Ypos,e.radius,e.color)})),this.players.forEach((function(e){t.canvasContext.fillStyle=e.color,t.canvasContext.fillRect(e.paddleX,t.canvas.height-t.PADDLE_DIST_FROM_EDGE,t.PADDLE_WIDTH,t.PADDLE_THICKNESS)})),this.colorText(this.mouseX+","+this.mouseY,this.mouseX,this.mouseY,"yellow"),this.gameActive&&this.drawBricks()},colorText:function(t,e,i,s){this.canvasContext.fillStyle=s,this.canvasContext.fillText(t,e,i)},colorCircle:function(t,e,i,s){this.canvasContext.fillStyle=s,this.canvasContext.beginPath(),this.canvasContext.arc(t,e,i,0,2*Math.PI,!0),this.canvasContext.fill()},continueToNextLevel:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.setGameActive(!1),t.dialog=!1,i={xp:t.xp,coins:t.coinCount},e.next=5,t.insertData(i);case 5:t.setRefreshData(!0),t.gameReset();case 7:case"end":return e.stop()}}),e)})))()},gameReset:function(){this.brickReset(),this.timerReset(),this.brickMove=0,this.BRICK_ROWS=7,this.blasts.forEach((function(t){t.timer=100})),this.secondsCount=0,this.health=100,this.healthBuffer=100,this.brickGrid.length=7*this.BRICK_COLS,this.coinCount=0,this.coins=0,this.seconds=0,this.tenSeconds=0,this.minutes=0,this.balls.forEach((function(t){t.score=0}))},timerReset:function(){this.stats[0].count=0,this.stats[1].count=0,this.stats[2].count=0,this.stats[0].value=0,this.stats[1].value=0,this.stats[2].value="",this.secondsCheck=0},leaveGame:function(){this.socket.emit("LEAVE_MATCH",{userID:this.userID}),this.setGameActive(!1)},keyPress:function(t){37==t.keyCode&&(this.keyLeft=!0,this.keyDirection=-1),67==t.keyCode&&(this.dialog=!0,this.scoreboard=!0),39==t.keyCode&&(this.keyRight=!0,this.keyDirection=1,console.log(this.allUserdata.username)),27==t.keyCode&&this.leaveGame(),32==t.keyCode&&(this.balls[0].Yspeed*=-1,console.log(this.gameActive)),66==t.keyCode&&this.gameReset(),90==t.keyCode&&(this.userID<=2?this.userID++:this.userID=0),this.blast(t)},keyUp:function(t){38==t.keyCode&&(this.brickMoveSpeed*=2),40==t.keyCode&&(this.brickMoveSpeed*=.5),37==t.keyCode&&(this.keyLeft=!1),39==t.keyCode&&(this.keyRight=!1)},blast:function(t){var e=this;this.blasts.forEach((function(i){t.keyCode==i.keyCode&&i.timer<0&&(e.balls[0].color=i.ballColor,i.active=!0,i.backgroundFade=.5,i.speedBall&&e.ballStorage.forEach((function(t){t.id>3&&(t.Xpos=e.paddleX+e.PADDLE_WIDTH/2,t.Ypos=e.canvas.height-e.PADDLE_DIST_FROM_EDGE-10,t.Xspeed=0,t.Yspeed=-window.innerHeight/250,e.balls.push(t))})),i.goldBall&&(e.ghostBall?(e.ghostBall=!e.ghostBall,i.timer=100,i.class=""):(e.ghostBall=!e.ghostBall,i.class="blink_me",setTimeout((function(){e.ghostBall&&(e.ghostBall=!e.ghostBall,i.timer=100,i.class="")}),3e3))),i.extraBall&&(i.counter--,e.ballStorage.forEach((function(t){t.id==e.newBallCount&&(t.Xpos=e.players[0].paddleX+e.PADDLE_WIDTH/2,t.Ypos=e.canvas.height-e.PADDLE_DIST_FROM_EDGE-10,t.Xspeed=0,t.Yspeed=-window.innerHeight/250,e.balls.push(t))})),e.newBallCount>=6?(i.timer=100,e.newBallCount=4):e.newBallCount++),i.starBall&&(e.balls[0].Yspeed=3*e.balls[0].Yspeed,e.balls[0].Xspeed=3*e.balls[0].Xspeed,i.ballColor="yellow",e.damage*=5))}))},blastTimer:function(){this.blasts.forEach((function(t){t.timer>=0?t.timer=t.timer-t.timerSpeed:(t.extraBall&&0==t.counter&&(t.counter=3),t.backgroundFade=1)}))},removeBricks:function(){var t=this;this.brickGrid.forEach((function(e){var i=t.brickGrid.indexOf(e);if(i>=240&&e.exists){e.exists=!1;var s=5*e.fade;t.health-=s,t.healthBackgroundColor="red",setTimeout((function(){t.healthBuffer-=s}),500)}}))},addBricks:function(){this.brickGrid.length>240&&this.removeBricks();var t=function t(e,i,s,a,n){Object(c["a"])(this,t),this.red=e,this.green=i,this.blue=s,this.fade=a,this.exists=n};for(this.brickAdd=0;this.brickAdd<10;this.brickAdd++){var e=0,i=255,s=0,a=1,n=Math.random();if(n>.8&&n<1){this.brickGrid.length>150&&(e=255,i=0),this.brickGrid.length>250&&(s=255,e=0);var r=!0;this.brickGrid.splice(30,0,new t(e,i,s,a,r))}else{var o=!1;this.brickGrid.splice(30,0,new t(e,i,s,a,o))}}this.BRICK_ROWS=this.BRICK_ROWS+1,this.brickMove=this.brickMove-this.BRICK_H},cancelRequest:function(){this.socket.emit("LEAVE_GAME")},calculateCoins:function(){var t=(2*this.stats[0].value+7*this.stats[1].value)/this.secondsCount*20;this.coins=Math.floor(t),this.xp=this.stats[0].value*this.stats[1].value},gameFinished:function(){this.gameActive&&this.dialog&&(this.stats[0].count<this.stats[0].value&&(this.stats[0].count+=1),this.stats[0].count==this.stats[0].value&&this.stats[1].count<this.stats[1].value&&(this.stats[1].count+=1),this.stats[1].count==this.stats[1].value&&this.secondsCheck<this.secondsCount&&(this.seconds+=1,this.secondsCheck+=1,10==this.seconds&&(this.seconds=0,this.tenSeconds+=1),6==this.tenSeconds&&(this.tenSeconds=0,this.minutes+=1),0==this.minutes?this.stats[2].count="00:"+this.tenSeconds+this.seconds:this.stats[2].count="0"+this.minutes+":"+this.tenSeconds+this.seconds),this.secondsCheck==this.secondsCount&&this.coinCount<this.coins&&this.coinCount++)}}),computed:Object(d["c"])(["gameActive","allUserdata"])},b=g,w=(i("fec3"),i("2877")),x=i("6544"),C=i.n(x),_=i("8212"),k=i("8336"),y=i("b0af"),O=i("99d9"),E=i("62ad"),R=i("a523"),I=i("169a"),D=i("4bd4"),S=i("adda"),j=i("a722"),B=i("8e36"),A=i("0fd9"),L=Object(w["a"])(b,r,o,!1,null,"96d80068",null),T=L.exports;C()(L,{VAvatar:_["a"],VBtn:k["a"],VCard:y["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:E["a"],VContainer:R["a"],VDialog:I["a"],VForm:D["a"],VImg:S["a"],VLayout:j["a"],VProgressLinear:B["a"],VRow:A["a"]});var P={components:{Multi:T},name:"App",data:function(){return{}}},M=P,X=(i("034f"),i("7496")),H=i("a75b"),V=Object(w["a"])(M,a,n,!1,null,null,null),G=V.exports;C()(V,{VApp:X["a"],VContent:H["a"]});i("45fc");var W=i("8c4f"),U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[i("Navbar"),t.game?t._e():i("Mainmenu"),i("v-slide-y-transition",[i("v-layout",{directives:[{name:"show",rawName:"v-show",value:!t.gameActive,expression:"!gameActive"}],staticClass:"align-center justify-center"},[i("div",{staticClass:"chat"},[i("v-card",{staticClass:"mx-auto transparent justify-center"},[i("div",{staticClass:"chatbox",attrs:{id:"chat-window"}},t._l(t.messages,(function(e){return i("div",{key:e.index},[i("v-card-text",{staticClass:"pa-0",attrs:{id:"output"}},[i("p",{staticClass:"white--text ma-0"},[i("v-avatar",{attrs:{size:"20"}},[i("img",{attrs:{src:"bronze-3.png",alt:"",srcset:""}})]),i("strong",{staticClass:"primary--text ml-1"},[t._v(" "+t._s(e.user)+" ")]),i("br"),i("span",{staticClass:"pl-8"},[t._v(" "+t._s(e.message)+" ")])],1)]),i("div",{attrs:{id:"feedback"}})],1)})),0),i("v-form",{ref:"form",staticClass:"chatMessage",on:{submit:function(e){return e.preventDefault(),t.sendMessage(e)}}},[i("v-card-text",{staticClass:"align-end"},[i("v-text-field",{staticClass:"theme--dark",attrs:{rules:t.messageRules,placeholder:"send a message.."},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1)],1)],1)])],1)],1)},Y=[],N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app-bar",{staticClass:"transparent white--text ",attrs:{text:"",app:""}},[i("v-flex",{staticClass:"text-center",attrs:{lg3:""}},[i("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[i("router-link",{attrs:{to:"/"}},[i("span",{staticClass:"font-weight-light display-1 primary--text"},[t._v("BRICK.")]),i("span",{staticClass:"display-1 primary--text"},[t._v("IO")])])],1)],1),i("v-flex",{staticClass:"text-right mt-3",attrs:{lg5:""}},[i("span",{staticClass:"font-weight-light"},[t._v(t._s(t.username))]),i("v-avatar",{staticClass:"mx-5",attrs:{size:"30"}},[i("img",{attrs:{src:"bronze-3.png",alt:"",srcset:""}})])],1),i("v-col",{attrs:{xs:"2",sm:"3",md:"3",lg:"2"},on:{click:function(e){return t.log()}}},[i("v-row",[i("p",{staticClass:"ml-5 caption grey--text  mb-0"},[t._v(" Level "+t._s(t.level))]),i("v-row",{staticClass:"align-center justify-end"},[i("p",{staticClass:" text-md-right mb-0 mx-2"},[t._v(" "+t._s(t.coins)+" ")]),i("v-avatar",{staticClass:"justify-center align-center text-center mr-6",attrs:{tile:"",size:"20"}},[i("img",{attrs:{src:"coin.png",alt:"",srcset:""}})])],1)],1),i("v-progress-linear",{staticClass:"mt-0",attrs:{rounded:"",value:t.xpBarValue,color:"amber",height:"24",reactive:""}},[i("div",{staticClass:"xp-text ml-6 black--text"},[i("strong",[t._v(" "+t._s(t.xp)+" / "+t._s(t.xpTop)+" xp ")])])])],1),i("v-spacer"),t.isLoggedIn?i("v-btn",{staticClass:"white--text",attrs:{text:""},on:{click:t.logOut}},[i("span",[t._v("Sign Out")]),i("v-icon",{attrs:{right:""}},[t._v("mdi-logout")])],1):i("v-btn",{staticClass:"white--text",attrs:{text:""}},[i("router-link",{attrs:{to:"/login"}},[i("span",[t._v("Sign in")]),i("v-icon",{attrs:{right:""}},[t._v("mdi-login")])],1)],1)],1)},F=[],K=(i("d3b7"),i("bee2")),z=i("bc3a"),$=i.n(z),q="https://cors-anywhere.herokuapp.com/",J="http://localhost:3456/logout";fetch(q+J).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(){return console.log("Can’t access "+J+" response. Blocked by browser?")}));var Z=function(){function t(){Object(c["a"])(this,t)}return Object(K["a"])(t,null,[{key:"logout",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:$()({method:"get",url:J,withCredentials:!0}),console.log("logged out");case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),Q=Z;function tt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var it={name:"Navbar",created:function(){},data:function(){return{isLoggedIn:Boolean,brick_email:null,username:"Guest",rank:null,buffer_value:100,coins:0,xp:0,level:1,xpTop:1e3,xpLevel:0,xpBarValue:0,bool:!0}},mounted:function(){setInterval(this.updateAll,500)},methods:et({},Object(d["d"])(["setRefreshData"]),{},Object(d["b"])(["fetchUserdata"]),{logOut:function(){localStorage.removeItem("email"),localStorage.removeItem("level"),localStorage.removeItem("rank"),document.cookie="token=null",this.delete_cookie("vueCheck"),this.$router.push({path:"/login"}),Q.logout()},log:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.refreshData),e.next=3,t.fetchUserdata();case 3:t.calculateExtra();case 4:case"end":return e.stop()}}),e)})))()},updateAll:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.refreshData){e.next=11;break}return e.next=3,t.fetchUserdata();case 3:t.cookieExists(),t.setRefreshData(!1),t.username=t.allUserdata[0].username,t.level=t.allUserdata[0].level,t.xp=t.allUserdata[0].xp,t.coins=t.allUserdata[0].coins,t.calculateExtra(),console.log("refereshed!");case 11:case"end":return e.stop()}}),e)})))()},calculateExtra:function(){var t=this.allUserdata[0].level-1;this.xpTop=Math.floor(1e3*Math.pow(1.3,t)),this.xpBarValue=100/this.xpTop*this.allUserdata[0].xp},delete_cookie:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},cookieExists:function(){var t=this.getCookie("vueCheck");this.isLoggedIn=!!t,console.log(this.allUserdata)},getCookie:function(t){var e=document.cookie,i=t+"=",s=e.indexOf("; "+i);if(-1==s){if(s=e.indexOf(i),0!=s)return null}else{s+=2;var a=document.cookie.indexOf(";",s);-1==a&&(a=e.length)}return decodeURI(e.substring(s+i.length,this.end))}}),computed:Object(d["c"])(["allUserdata","refreshData"])},st=it,at=(i("9c1e"),i("40dc")),nt=i("0e8f"),rt=i("132d"),ot=i("2fa4"),ct=i("2a7f"),lt=Object(w["a"])(st,N,F,!1,null,"917d95ca",null),ut=lt.exports;C()(lt,{VAppBar:at["a"],VAvatar:_["a"],VBtn:k["a"],VCol:E["a"],VFlex:nt["a"],VIcon:rt["a"],VProgressLinear:B["a"],VRow:A["a"],VSpacer:ot["a"],VToolbarTitle:ct["a"]});var dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{sm3:"",md3:"",lg3:"",xl2:""}},[i("v-slide-x-transition",[i("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.gameActive,expression:"!gameActive"}],staticClass:"mx-auto transparent",attrs:{height:"50%"}},[i("v-list",{staticClass:"transparent pa-0"},t._l(t.links,(function(e){return i("v-list-item",{key:e.text,staticClass:"pa-0",attrs:{router:"",to:e.route}},[i("v-list-item-content",{staticClass:"menu justify-center my-5 "},[i("v-flex",{attrs:{xl7:"",md7:""}},[i("v-list-item-title",{staticClass:" black--text text-left headline"},[t._v(t._s(e.text))])],1)],1)],1)})),1)],1)],1)],1)},ht=[],ft={name:"Mainmenu",data:function(){return{links:[{route:"/multi",text:"MULTIPLAYER"},{route:"/single",text:"SINGLEPLAYER"},{route:"/profile",text:"PROFILE"},{route:"/leaderboard",text:"LEADERBOARD"},{route:"/leaderboard",text:"SETTINGS"}]}},computed:Object(d["c"])(["gameActive"])},vt=ft,mt=(i("550e"),i("8860")),pt=i("da13"),gt=i("5d23"),bt=i("0789"),wt=Object(w["a"])(vt,dt,ht,!1,null,"8d8e1da8",null),xt=wt.exports;C()(wt,{VCard:y["a"],VFlex:nt["a"],VList:mt["a"],VListItem:pt["a"],VListItemContent:gt["a"],VListItemTitle:gt["c"],VSlideXTransition:bt["c"]});var Ct={components:{Mainmenu:xt,Navbar:ut},mounted:function(){var t=this;this.user=localStorage.getItem("username"),this.brick_level=localStorage.getItem("level"),this.brick_rank=localStorage.getItem("rank"),this.socket.on("MESSAGE",(function(e){console.log("recieved data.."),t.messages.push({message:e.message,user:e.user}),console.log(t.messages);var i=document.querySelector("#chat-window");i.scrollTop=i.scrollHeight-i.clientHeight}))},name:"profile",data:function(){return{links:[{route:"/multi",text:"Multiplayer"},{route:"/single",text:"Singleplayer"},{route:"/",text:"PROFILE"},{route:"/leaderboard",text:"Leaderboard"}],messageRules:[function(t){return t&&t.length>=1||"cant send empty message"},function(t){return t&&t.length<=50||"message must be less than 50 characters"}],user:"",message:"",messages:[],brick_email:null,brick_rank:null,brick_level:null,socket:f()("localhost:3456")}},methods:{sendMessage:function(t){t.preventDefault(),this.socket.emit("SEND_MESSAGE",{user:this.user,message:this.message}),this.$refs.form.reset()}},computed:Object(d["c"])(["gameActive"])},_t=Ct,kt=(i("dd16"),i("8654")),yt=Object(w["a"])(_t,U,Y,!1,null,"69eea3df",null),Ot=yt.exports;C()(yt,{VAvatar:_["a"],VCard:y["a"],VCardText:O["b"],VContainer:R["a"],VForm:D["a"],VLayout:j["a"],VSlideYTransition:bt["d"],VTextField:kt["a"]});var Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"grey lighten-5 justify-center",attrs:{"fill-height":""}},[i("v-flex",{attrs:{md5:""}},[i("Mainmenu")],1),i("v-flex",{attrs:{md5:""}},[i("v-card",{staticClass:"grey mx-auto transparent",attrs:{height:"350"}},[i("v-card-title",{staticClass:"headline white--text justify-center align-center",attrs:{disabled:""}},[t._v("Leaderboard")])],1)],1)],1)},Rt=[],It={components:{Mainmenu:xt},name:"home",data:function(){return{links:[{route:"/multi",text:"Multiplayer"},{route:"/single",text:"Singleplayer"},{route:"/",text:"Profile"},{route:"/leaderboard",text:"Leaderboard"}]}}},Dt=It,St=(i("7a7c"),Object(w["a"])(Dt,Et,Rt,!1,null,null,null)),jt=St.exports;C()(St,{VCard:y["a"],VCardTitle:O["c"],VContainer:R["a"],VFlex:nt["a"]});var Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"black lighten-5 pa-0",attrs:{fluid:"","fill-height":""}},[i("Navbar"),i("Mainmenu"),i("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[i("v-flex",{attrs:{md7:"",lg6:""}},[i("v-card",{staticClass:"mx-auto transparent text-center",attrs:{height:"350"}},[i("v-card-title",{staticClass:"headline white--text justify-center align-center",attrs:{disabled:""}},[t._v("Profile")]),i("v-card-text",{staticClass:"white--text text-center body-1"},[i("router-link",{attrs:{to:"/login"}},[t._v(" Sign in")]),t._v(" | "),i("router-link",{attrs:{to:"/signup"}},[t._v(" Sign up")])],1),i("v-card-text",[i("v-form",{staticClass:"px-3 text-center",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("v-text-field",{staticClass:"theme--dark",attrs:{label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.emailError?i("p",{staticClass:"red--text"},[t._v(t._s(t.emailError))]):t._e(),i("v-btn",{on:{click:t.login}},[t._v("Send login code")])],1)],1),i("v-layout",{attrs:{column:"","align-center":""}},[i("v-flex",{staticClass:"mt-4 mb-3"},[i("div",{staticClass:"text-center"},[i("v-dialog",{attrs:{dark:"",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"lighten-2",attrs:{"primary-title":""}},[i("h2",[t._v(" Confirm your identity")])]),i("v-card-text",[t._v("We have sent an email to you, might take a minute")]),i("v-card-text",[i("v-form",{staticClass:"px-3"},[i("v-text-field",{staticClass:"theme--dark",attrs:{placeholder:"XXXXXX"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t.error?i("p",{staticClass:"red--text"},[t._v("error: "+t._s(t.error))]):t._e(),i("v-btn",{staticClass:"black--text",attrs:{color:"white"},on:{click:t.confirmIdentity}},[t._v("Submit")])],1)],1)],1)],1)],1)])],1)],1)],1)],1)],1)},At=[];function Lt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Tt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Lt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Pt={components:{Mainmenu:xt,Navbar:ut},name:"home",data:function(){return{emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],email:"",dialog:!1,error:"",code:"",useremail:"",emailError:""}},methods:Tt({},Object(d["d"])(["setRefreshData"]),{},Object(d["b"])(["loginUser","confLogin","fetchUserdata"]),{login:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loginUser(t.email);case 2:i=t.getCookie("createUser"),i?(t.dialog=!0,t.emailError=""):t.emailError="something went wrong..";case 4:case"end":return e.stop()}}),e)})))()},confirmIdentity:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.confLogin(t.code);case 2:if(i=t.getCookie("vueCheck"),!i){e.next=10;break}return t.$router.push({path:"/"}),e.next=7,t.fetchUserdata();case 7:t.setRefreshData(!0),e.next=11;break;case 10:t.error="invalid code";case 11:console.log(t.error);case 12:case"end":return e.stop()}}),e)})))()},getCookie:function(t){var e=document.cookie,i=t+"=",s=e.indexOf("; "+i);if(-1==s){if(s=e.indexOf(i),0!=s)return null}else{s+=2;var a=document.cookie.indexOf(";",s);-1==a&&(a=e.length)}return decodeURI(e.substring(s+i.length,a))}})},Mt=Pt,Xt=(i("d6db"),Object(w["a"])(Mt,Bt,At,!1,null,null,null)),Ht=Xt.exports;C()(Xt,{VBtn:k["a"],VCard:y["a"],VCardText:O["b"],VCardTitle:O["c"],VContainer:R["a"],VDialog:I["a"],VFlex:nt["a"],VForm:D["a"],VLayout:j["a"],VTextField:kt["a"]});var Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"black lighten-5 pa-0",attrs:{fluid:"","fill-height":""}},[i("Navbar"),i("Mainmenu"),i("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[i("v-flex",{attrs:{md7:"",lg6:""}},[i("v-card",{staticClass:"mx-auto transparent text-center",attrs:{height:"350"}},[i("v-card-title",{staticClass:"headline white--text justify-center align-center",attrs:{disabled:""}},[t._v("Profile")]),i("v-card-text",{staticClass:"white--text text-center body-1"},[i("router-link",{attrs:{to:"/login"}},[t._v(" Sign in")]),t._v(" | "),i("router-link",{attrs:{to:"/signup"}},[t._v(" Sign up")])],1),i("v-card-text",[i("v-form",{staticClass:"px-3 text-center",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("v-text-field",{staticClass:"theme--dark",attrs:{label:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-text-field",{staticClass:"theme--dark",attrs:{label:"username",rules:t.usernameRules},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t.emailError?i("p",{staticClass:"red--text"},[t._v(t._s(t.emailError))]):t._e(),i("v-btn",{on:{click:t.login}},[t._v("Send login code")])],1)],1),i("v-layout",{attrs:{column:"","align-center":""}},[i("v-flex",{staticClass:"mt-4 mb-3"},[i("div",{staticClass:"text-center"},[i("v-dialog",{attrs:{dark:"",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"lighten-2",attrs:{"primary-title":""}},[i("h2",[t._v(" Confirm your identity")])]),i("v-card-text",[t._v("We have sent an email to you, might take a minute")]),i("v-card-text",[i("v-form",{staticClass:"px-3"},[i("v-text-field",{staticClass:"theme--dark",attrs:{placeholder:"XXXXXX"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t.error?i("p",{staticClass:"red--text"},[t._v(t._s(t.error))]):t._e(),i("v-btn",{staticClass:"black--text",attrs:{color:"white"},on:{click:t.confirmIdentity}},[t._v("Submit")])],1)],1)],1)],1)],1)])],1)],1)],1)],1)],1)},Gt=[];function Wt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Ut(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Wt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Yt={components:{Mainmenu:xt,Navbar:ut},name:"home",data:function(){return{links:[{route:"/multi",text:"Multiplayer"},{route:"/single",text:"Singleplayer"},{route:"/",text:"Profile"},{route:"/leaderboard",text:"Leaderboard"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],usernameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>=3||"Name must be more than 3 characters"},function(t){return t&&t.length<=12||"Name must be less than 12 characters"},function(t){return/[^A-Z0-9]/.test(t)}],users:[],username:null,dialog:!1,email:null,emailError:"",error:null}},methods:Ut({},Object(d["d"])(["setRefreshData"]),{},Object(d["b"])(["regUser","confReg","fetchUserdata"]),{login:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={email:t.email,username:t.username},e.next=3,t.regUser(i);case 3:s=t.getCookie("createUser"),s?(t.dialog=!0,t.emailError=""):t.emailError="something went wrong..";case 5:case"end":return e.stop()}}),e)})))()},confirmIdentity:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.confReg(t.code);case 2:if(i=t.getCookie("vueCheck"),!i){e.next=10;break}return t.$router.push({path:"/"}),e.next=7,t.fetchUserdata();case 7:t.setRefreshData(!0),e.next=11;break;case 10:t.error="invalid code";case 11:console.log(t.error);case 12:case"end":return e.stop()}}),e)})))()},getCookie:function(t){var e=document.cookie,i=t+"=",s=e.indexOf("; "+i);if(-1==s){if(s=e.indexOf(i),0!=s)return null}else{s+=2;var a=document.cookie.indexOf(";",s);-1==a&&(a=e.length)}return decodeURI(e.substring(s+i.length,a))}})},Nt=Yt,Ft=(i("e42b"),Object(w["a"])(Nt,Vt,Gt,!1,null,null,null)),Kt=Ft.exports;C()(Ft,{VBtn:k["a"],VCard:y["a"],VCardText:O["b"],VCardTitle:O["c"],VContainer:R["a"],VDialog:I["a"],VFlex:nt["a"],VForm:D["a"],VLayout:j["a"],VTextField:kt["a"]});var zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"black justify-center pa-0",attrs:{fluid:"","fill-height":""}},[i("Navbar"),i("Mainmenu"),i("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[i("v-flex",{attrs:{md10:"",lg10:""}},[i("v-card",{staticClass:"mx-auto transparent",attrs:{height:"350"}},[i("v-row",[i("v-flex",{attrs:{md6:"",lg6:""}},[i("UserBrick"),i("v-layout",{staticClass:"align-end my-10",attrs:{"fill-height":"",row:"",wrap:""}},[i("v-flex",{attrs:{md6:""}},[i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{staticClass:"align-end justify-end",attrs:{small:""}},[t._v("click me")])],1)],1),i("v-flex",{attrs:{md6:""}},[i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{staticClass:"align-end justify-end",attrs:{small:""}},[t._v("click me")])],1)],1)],1)],1),i("v-flex",{attrs:{md6:"",lg6:""}},[i("v-list-item",{},[i("v-list-item-content",{},[i("v-list-item-avatar",{staticClass:"justify-center text-center",attrs:{tile:"",size:"100"}},[i("img",{attrs:{src:"bronze-3.png",alt:"",srcset:""}})]),i("v-list-item-title",{staticClass:"text-center rome white--text"},[t._v("BRONZE III ")]),i("v-list-item-subtitle",{staticClass:"text-center rome grey--text caption"},[t._v("DIV XI")])],1)],1)],1)],1)],1)],1)],1)],1)},$t=[],qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{attrs:{id:"scene"},on:{mouseover:function(e){return t.increaseFlow()},mouseleave:function(e){return t.decreaseFlow()}}})},Jt=[],Zt={name:"UserBrick",data:function(){return{width:null,height:null,rotation:0,dots:[],DOTS_AMOUNT:1500,DOT_RADIUS:null,GLOBE_RADIUS:null,GLOBE_CENTER_Z:null,PROJECTION_CENTER_X:null,PROJECTION_CENTER_Y:null,FIELD_OF_VIEW:null,brick_posY:null,brick_posX:null,brick_speed:1,BRICK_WIDTH:null,BRICK_HEIGHT:null,counter:0,randomArr:[],dotClass:null,dotFlow:30,createDot:0,loopDot:0,i:0,canvas:null,ctx:null}},created:function(){window.addEventListener("resize",this.onResize),window.requestAnimationFrame(this.render)},mounted:function(){this.canvas=document.getElementById("scene"),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,this.DOT_RADIUS=this.height/250,this.GLOBE_RADIUS=.7*this.width,this.GLOBE_CENTER_Z=-this.GLOBE_RADIUS,this.PROJECTION_CENTER_X=this.width/2,this.PROJECTION_CENTER_Y=this.height/2,this.FIELD_OF_VIEW=.8*this.width,this.brick_posY=.3*this.canvas.clientHeight,this.brick_posX=.4*this.canvas.clientWidth,this.BRICK_WIDTH=this.canvas.clientWidth/5,this.BRICK_HEIGHT=this.canvas.clientHeight/20,window.devicePixelRatio>0&&(this.canvas.width=2*this.canvas.clientWidth,this.canvas.height=2*this.canvas.clientHeight,this.ctx.scale(2,2)),this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.canvas.addEventListener("hover",this.increaseFlow);var t,e=function(){function t(e,i,s,a,n){Object(c["a"])(this,t),this.x=e,this.y=i,this.z=s,this.checkOne=a,this.counter=n,this.xProject=0,this.yProject=0,this.sizeProjection=0}return Object(K["a"])(t,[{key:"project",value:function(t,e){var i=e*this.x+t*(this.z-this.GLOBE_CENTER_Z),s=-t*this.x+e*(this.z-this.GLOBE_CENTER_Z)+this.GLOBE_CENTER_Z;this.sizeProjection=this.FIELD_OF_VIEW/(this.FIELD_OF_VIEW-s),this.xProject=i*this.sizeProjection+this.PROJECTION_CENTER_X,this.yProject=this.y*this.sizeProjection+this.PROJECTION_CENTER_Y}},{key:"draw",value:function(t,e){this.project(t,e)}}]),t}();for(this.dots.length=0,t=0;t<this.DOTS_AMOUNT;t++){var i=2*Math.random()*Math.PI,s=Math.acos(2*Math.random()-1),a=this.GLOBE_RADIUS*Math.sin(s)*Math.cos(i),n=this.GLOBE_RADIUS*Math.sin(s)*Math.sin(i)*.2,r=this.GLOBE_RADIUS*Math.cos(s)+this.GLOBE_CENTER_Z,o=!0,l=!0;n>-20&&this.dots.push(new e(a,n,r,o,l))}this.genRanArr()},methods:{render:function(t){var e=this;this.ctx.clearRect(0,0,this.width,this.height);var i,s=4e-4*t,a=Math.sin(s),n=Math.cos(s);for(this.drawBrick(),i=0;i<this.dots.length;i++){var r=n*this.dots[i].x+a*(this.dots[i].z-this.GLOBE_CENTER_Z),o=-a*this.dots[i].x+n*(this.dots[i].z-this.GLOBE_CENTER_Z)+this.GLOBE_CENTER_Z,c=this.FIELD_OF_VIEW/(this.FIELD_OF_VIEW-o),l=r*c+this.PROJECTION_CENTER_X,u=this.dots[i].y*c+this.PROJECTION_CENTER_Y;this.ctx.fillStyle="grey",this.ctx.beginPath(),this.ctx.arc(l,u,this.DOT_RADIUS*c,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill()}this.randomArr.forEach((function(t){if(e.dots[t].y&&(e.dots[t].y-=1),e.dots[t].counter++,e.dots[t].y<-50&&e.dots[t].checkOne){var i=Math.floor(Math.random()*e.dots.length);e.randomArr.push(i),e.dots[t].checkOne=!1}e.dots[t].y<-200&&(e.dots[t].y+=e.dots[t].counter,e.dots[t].counter=0)})),this.brick_posY+=this.brick_speed,this.brick_posY>this.height/2.8?this.brick_speed-=.05:this.brick_speed+=.05,window.requestAnimationFrame(this.render)},drawBrick:function(){this.ctx.fillStyle="white",this.ctx.fillRect(this.brick_posX,this.brick_posY,this.BRICK_WIDTH,this.BRICK_HEIGHT)},genRanArr:function(){for(this.i=0;this.i<this.dotFlow;this.i++){var t=Math.floor(50*Math.random());this.randomArr.push(t)}},afterResize:function(){this.width=this.canvas.offsetWidth,this.height=this.canvas.offsetHeight,window.devicePixelRatio>1?(this.canvas.width=2*this.canvas.clientWidth,this.canvas.height=2*this.canvas.clientHeight,this.ctx.scale(2,2)):(this.canvas.width=this.width,this.canvas.height=this.height),this.GLOBE_RADIUS=.7*this.width,this.GLOBE_CENTER_Z=-this.GLOBE_RADIUS,this.PROJECTION_CENTER_X=this.width/2,this.PROJECTION_CENTER_Y=this.height/2,this.FIELD_OF_VIEW=.8*this.width},onResize:function(){this.afterResize(),this.randomArr=[],this.createDots()},increaseFlow:function(){this.dotFlow=300,this.DOT_RADIUS*=2,this.randomArr=[],this.genRanArr(),console.log("hover")},decreaseFlow:function(){this.dotFlow=30,this.DOT_RADIUS*=.5,this.randomArr=[],this.genRanArr()}}},Qt=Zt,te=(i("bd48"),Object(w["a"])(Qt,qt,Jt,!1,null,null,null)),ee=te.exports,ie={components:{Mainmenu:xt,Navbar:ut,UserBrick:ee},mounted:function(){this.brick_email=localStorage.getItem("email"),this.brick_level=localStorage.getItem("level"),this.brick_rank=localStorage.getItem("rank")},name:"profile",data:function(){return{links:[{route:"/multi",text:"Multiplayer"},{route:"/single",text:"Singleplayer"},{route:"/",text:"PROFILE"},{route:"/leaderboard",text:"Leaderboard"}],brick_email:null,brick_rank:null,brick_level:null}},methods:{log:function(){console.log(this.userdata)}}},se=ie,ae=(i("2a37"),i("8270")),ne=Object(w["a"])(se,zt,$t,!1,null,null,null),re=ne.exports;C()(ne,{VBtn:k["a"],VCard:y["a"],VCardActions:O["a"],VContainer:R["a"],VFlex:nt["a"],VLayout:j["a"],VListItem:pt["a"],VListItemAvatar:ae["a"],VListItemContent:gt["a"],VListItemSubtitle:gt["b"],VListItemTitle:gt["c"],VRow:A["a"]}),s["a"].use(W["a"]);var oe=new W["a"]({mode:"history",routes:[{path:"/",name:"home",component:Ot,meta:{requiresAuth:!0}},{path:"/Profile",name:"profile",component:re},{path:"/leaderboard",name:"leaderboard",component:jt},{path:"/login",name:"login",component:Ht},{path:"/signup",name:"signup",component:Kt}]});function ce(t){var e=document.cookie,i=t+"=",s=e.indexOf("; "+i);if(-1==s){if(s=e.indexOf(i),0!=s)return null}else{s+=2;var a=document.cookie.indexOf(";",s);-1==a&&(a=e.length)}return decodeURI(e.substring(s+i.length,a))}oe.beforeEach((function(t,e,i){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var s=ce("vueCheck");s?i():i({name:"login"})}else i()}));var le=oe,ue=i("f309");s["a"].use(ue["a"]);var de=new ue["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#ffa500 ",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}}),he={userdata:[],loginResponse:null,gameActive:!1,refreshData:!0},fe={allUserdata:function(t){return t.userdata},loginResponse:function(t){return t.response},gameActive:function(t){return t.gameActive},refreshData:function(t){return t.refreshData}},ve={fetchUserdata:function(t){var e=t.commit;return Object(u["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"get",url:"userdata/",withCredentials:!0});case 2:i=t.sent,e("setUserdata",i.data),console.log(i.data);case 5:case"end":return t.stop()}}),t)})))()},loginUser:function(t,e){var i=t.commit;return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"post",url:"login/",data:{email:e},withCredentials:!0});case 2:s=t.sent,console.log(e),i("setLoginResponse",s.data);case 5:case"end":return t.stop()}}),t)})))()},confLogin:function(t,e){var i=t.commit;return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"post",url:"confirmation/",data:{code:e},withCredentials:!0});case 2:s=t.sent,console.log(s),i("setLoginResponse",s.data),localStorage.setItem("username",s.data[0].username);case 6:case"end":return t.stop()}}),t)})))()},regUser:function(t,e){var i=t.commit;return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"post",url:"registration/",data:{email:e.email,username:e.username},withCredentials:!0});case 2:s=t.sent,console.log(s),i("setLoginResponse",s.data);case 5:case"end":return t.stop()}}),t)})))()},confReg:function(t,e){var i=t.commit;return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"post",url:"regConfirmation/",data:{code:e},withCredentials:!0});case 2:s=t.sent,i("setLoginResponse",s.data),localStorage.setItem("username",s.data[0].username);case 5:case"end":return t.stop()}}),t)})))()},insertData:function(t,e){var i=t.commit;return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.xp),console.log(e.coins),t.next=4,$()({method:"post",url:"updateUserdata/",data:{xp:e.xp,coins:e.coins},withCredentials:!0});case 4:s=t.sent,i("setLoginResponse",s.data),console.log(s);case 7:case"end":return t.stop()}}),t)})))()}},me={setUserdata:function(t,e){return t.userdata=e},setLoginResponse:function(t,e){return t.loginResponse=e},setGameActive:function(t,e){return t.gameActive=e},setRefreshData:function(t,e){return t.refreshData=e}},pe={state:he,getters:fe,actions:ve,mutations:me};s["a"].use(d["a"]);var ge=new d["a"].Store({modules:{userservice:pe}});s["a"].config.productionTip=!1,new s["a"]({store:ge,router:le,vuetify:de,render:function(t){return t(G)}}).$mount("#app")},"7a7c":function(t,e,i){"use strict";var s=i("050f"),a=i.n(s);a.a},"7aad":function(t,e,i){},8407:function(t,e,i){},"84ee":function(t,e,i){},"8a23":function(t,e,i){},"9c1e":function(t,e,i){"use strict";var s=i("dcb9"),a=i.n(s);a.a},bd48:function(t,e,i){"use strict";var s=i("7aad"),a=i.n(s);a.a},cf18:function(t,e,i){},d6db:function(t,e,i){"use strict";var s=i("2cce"),a=i.n(s);a.a},dcb9:function(t,e,i){},dd16:function(t,e,i){"use strict";var s=i("84ee"),a=i.n(s);a.a},e42b:function(t,e,i){"use strict";var s=i("ef96"),a=i.n(s);a.a},ef96:function(t,e,i){},f1b4:function(t,e,i){},fec3:function(t,e,i){"use strict";var s=i("8407"),a=i.n(s);a.a}});
//# sourceMappingURL=app.423bc9b6.js.map